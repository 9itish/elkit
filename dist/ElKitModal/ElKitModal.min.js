var ElKitModal=function(e){"use strict";class t{constructor({wrapperSelector:e=".el-modal-wrapper",modalSelector:t=".el-modal",contentSelector:o=".el-modal-content",sourceSelector:l,openSelector:s,closeSelector:i=".el-modal-close, .el-modal-wrapper",config:{closingKeys:n=["Escape"],maxWidth:c="800px",maxHeight:r="600px",scrollableBody:d=!1}={},onOpen:a,onClose:h}){this.wrapperElem=document.querySelector(e),this.modalElem=document.querySelector(t),this.modalContentElem=document.querySelector(o),this.modalSource=document.querySelector(l),this.closers=document.querySelectorAll(i),this.openers=document.querySelectorAll(s),this.config={closingKeys:n,maxWidth:c,maxHeight:r,scrollableBody:d},this.onOpen=a||(()=>{}),this.onClose=h||(()=>{}),this.setup(),this.openers&&this.openers.forEach((e=>{e.addEventListener("click",(()=>this.open()))})),this.closers&&this.closers.forEach((e=>{e.addEventListener("click",(()=>this.close()))})),document.addEventListener("keydown",(e=>{this.config.closingKeys.includes(e.key)&&this.close()})),this.modalElem&&this.modalElem.addEventListener("click",(e=>{e.stopPropagation()}))}static bindEvents(e={}){this._eventsBound||(this._eventsBound=!0,document.addEventListener("click",(o=>{const l=o.target.closest("[data-el-modal]");if(l){let o=l.dataset.elModal?.trim();if(!o)return void console.warn("ElkitModal: No valid sourceSelector found on trigger",l);if(!document.querySelector(o))return void console.warn(`ElKitModal: No content found for selector ${o}`);new t({...e,sourceSelector:o}).open()}})))}setup(){const e=["closingKeys","maxWidth","scrollableBody","maxHeight"],t=Object.keys(this.config).filter((t=>!e.includes(t)));t.length>0&&console.warn(`Ignored invalid config keys: ${t.join(", ")} for ElkitModal`),this.config=Object.fromEntries(Object.entries(this.config).filter((([t])=>e.includes(t)))),this.config.maxWidth&&this.modalElem.style.setProperty("--el-modal-max-width",this.config.maxWidth),this.config.maxHeight&&this.modalElem.style.setProperty("--el-modal-max-height",this.config.maxHeight),this.modalSource&&this.setContent(this.modalSource.innerHTML)}setContent(e){const t=this.modalElem.querySelector(".el-modal-content");t.replaceChildren(),e&&(t.innerHTML=e)}open(){this.modalElem&&(this.modalElem.style.display="flex",this.wrapperElem.style.display="flex",this.config.scrollableBody||(document.body.style.overflow="hidden"),this.onOpen())}close(){this.modalElem&&(this.modalElem.style.display="none",this.wrapperElem.style.display="none",this.config.scrollableBody||(document.body.style.overflow=""),this.setContent(""),this.onClose())}}return"undefined"!=typeof window&&(window.ElKitModal=t),e.ElKitModal=t,e}({});
