var ElKitModal=function(e){"use strict";class o{constructor({wrapperSelector:e=".el-modal-wrapper",modalSelector:o=".el-modal",contentSelector:t=".el-modal-content",sourceSelector:l,openSelector:s,closeSelector:n=".el-modal-close, .el-modal-wrapper",config:{closingKeys:i=["Escape"],maxWidth:c="800px",scrollableBody:r=!1}={},onOpen:d,onClose:a}){this.wrapperElem=document.querySelector(e),this.modalElem=document.querySelector(o),this.modalContentElem=document.querySelector(t),this.modalSource=document.querySelector(l),this.closers=document.querySelectorAll(n),this.openers=document.querySelectorAll(s),this.config={closingKeys:i,maxWidth:c,scrollableBody:r},this.onOpen=d||(()=>{}),this.onClose=a||(()=>{}),this.setup(),this.openers&&this.openers.forEach((e=>{e.addEventListener("click",(()=>this.open()))})),this.closers&&this.closers.forEach((e=>{e.addEventListener("click",(()=>this.close()))})),document.addEventListener("keydown",(e=>{this.config.closingKeys.includes(e.key)&&this.close()})),this.modalElem&&this.modalElem.addEventListener("click",(e=>{e.stopPropagation()}))}static bindEvents(e={}){this._eventsBound||(this._eventsBound=!0,document.addEventListener("click",(t=>{const l=t.target.closest("[data-el-modal]");if(l){let t=l.dataset.elModal?.trim();if(!t)return void console.warn("ElkitModal: No valid sourceSelector found on trigger",l);if(!document.querySelector(t))return void console.warn(`ElkitModal: No content found for selector ${t}`);new o({...e,sourceSelector:t}).open()}})))}setup(){const e=["closingKeys","maxWidth","scrollableBody"],o=Object.keys(this.config).filter((o=>!e.includes(o)));o.length>0&&console.warn(`Ignored invalid config keys: ${o.join(", ")} for ElkitModal`),this.config=Object.fromEntries(Object.entries(this.config).filter((([o])=>e.includes(o)))),this.config.maxWidth&&this.modalElem.style.setProperty("--el-modal-max-width",this.config.maxWidth),this.modalSource&&(console.log("The source was set!"),this.setContent(this.modalSource.innerHTML))}setContent(e){const o=this.modalElem.querySelector(".el-modal-content");o.replaceChildren(),e&&(o.innerHTML=e)}open(){this.modalElem&&(this.modalElem.style.display="block",this.wrapperElem.style.display="flex",this.config.scrollableBody||(document.body.style.overflow="hidden"),this.onOpen())}close(){this.modalElem&&(this.modalElem.style.display="none",this.wrapperElem.style.display="none",this.config.scrollableBody||(document.body.style.overflow=""),this.setContent(""),this.onClose())}}return e.ElkitModal=o,e}({});
